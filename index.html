<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuizZone ‚Äî –û–ª–∏–º–ø–∏–∞–¥–∞ –ê –ë –í –ì</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --p: #4834d4; --g5: #2ecc71; --g4: #f1c40f; --g3: #e67e22; --g2: #e74c3c; --g1: #c0392b; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Montserrat', sans-serif; }
        body { background: #f0f2f5; min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 15px; }
        .app-container { background: white; width: 100%; max-width: 850px; min-height: 650px; border-radius: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.15); padding: 40px; position: relative; overflow: hidden; display: flex; flex-direction: column; }
        .spinning-logo { position: absolute; top: 15px; right: 15px; width: 60px; height: 60px; border-radius: 50%; border: 3px solid var(--p); animation: rot 2s linear infinite; z-index: 100; }
        @keyframes rot { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .screen { display: none; flex-direction: column; height: 100%; animation: fadeIn 0.3s ease; }
        .screen.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .btn { padding: 18px; border-radius: 15px; border: none; cursor: pointer; font-weight: 700; text-transform: uppercase; background: var(--p); color: white; transition: 0.2s; font-size: 1rem; margin-top: 10px; }
        .btn:hover { filter: brightness(1.2); }
        .btn:active { transform: scale(0.98); }
        .btn-hint { background: #6c5ce7; margin-bottom: 15px; font-size: 0.9rem; }
        .subject-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 30px; }
        .subject-card { padding: 40px 10px; border-radius: 20px; background: #fdfdfd; text-align: center; cursor: pointer; border: 2px solid #eee; transition: 0.3s; }
        .subject-card:hover { border-color: var(--p); transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .option { padding: 15px; border: 2px solid #eee; border-radius: 12px; margin-bottom: 10px; cursor: pointer; font-weight: 600; transition: 0.2s; display: flex; align-items: center; }
        .option:hover { background: #f8f9ff; border-color: #ddd; }
        .option.selected { border-color: var(--p); background: #f1f2ff; }
        .opt-prefix { background: #eee; color: #555; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px; font-size: 0.9rem; flex-shrink: 0; }
        .option.selected .opt-prefix { background: var(--p); color: white; }
        .progress-bar { width: 100%; height: 8px; background: #eee; border-radius: 4px; margin-bottom: 25px; }
        .p-fill { height: 100%; background: var(--p); width: 0%; transition: 0.3s; border-radius: 4px; }
        #modal { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); display:none; justify-content:center; align-items:center; z-index:1000; padding: 20px; }
        .m-cont { background:white; padding:35px; border-radius:25px; max-width:750px; width:100%; max-height:85vh; overflow-y:auto; position: relative; }
        #grade-badge { font-size: 4.5rem; width: 130px; height: 130px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; margin: 20px auto; font-weight: 900; }
    </style>
</head>
<body>

<div id="modal">
    <div class="m-cont">
        <h2 style="color:var(--p); margin-bottom:15px; text-align:center;">–¢–µ–∫—Å—Ç: –ú–∞–ª—å—á–∏–∫ –∏ –∑–∞—è—Ü</h2>
        <div style="line-height:1.6; color:#2d3436; font-size:1.05rem;">
            <p>–û–¥–Ω–∞–∂–¥—ã –º–∞–ª—å—á–∏–∫ –ø–æ –∏–º–µ–Ω–∏ –ê—Ä—Ç—ë–º –ø–æ—à—ë–ª –≥—É–ª—è—Ç—å –≤ –ª–µ—Å. –í–¥—Ä—É–≥ –æ–Ω —É–≤–∏–¥–µ–ª –∑–∞–π—Ü–∞ –ø–æ–¥ –∫—É—Å—Ç–æ–º. ‚Äî –ü—Ä–∏–≤–µ—Ç! ‚Äî —Å–∫–∞–∑–∞–ª –ê—Ä—Ç—ë–º —Ç–∏—Ö–æ. –ó–∞—è—Ü —Å–º–æ—Ç—Ä–µ–ª –Ω–∞ –Ω–µ–≥–æ.</p><br>
            <p>‚Äî –ü–æ—á–µ–º—É —É —Ç–µ–±—è –¥–ª–∏–Ω–Ω—ã–µ —É—à–∏? ‚Äî —Å–ø—Ä–æ—Å–∏–ª –ê—Ä—Ç—ë–º. ‚Äî –û–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç –º–Ω–µ —Å–ª—ã—à–∞—Ç—å –≤—Å—ë –≤–æ–∫—Ä—É–≥, ‚Äî –∫–∞–∑–∞–ª–æ—Å—å, –æ—Ç–≤–µ—Ç–∏–ª –∑–∞—è—Ü. <br> ‚Äî –ê –∑–∞–¥–Ω–∏–µ –ª–∞–ø—ã? ‚Äî –ß—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ —É–±–µ–≥–∞—Ç—å –æ—Ç –æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</p><br>
            <p>–ú–∞–ª—å—á–∏–∫ –∑–∞–º–µ—Ç–∏–ª: –∑–∞—è—Ü –ø—Ä—ã–≥–∞–ª –∏ –º–µ–Ω—è–ª –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ —à–æ—Ä–æ—Ö–µ. –ê—Ä—Ç—ë–º –ø–æ–Ω—è–ª: –ø—Ä–∏—Ä–æ–¥–∞ —Å–¥–µ–ª–∞–ª–∞ –∑–∞–π—Ü–∞ –∏–¥–µ–∞–ª—å–Ω—ã–º –¥–ª—è –ª–µ—Å–∞. –û–Ω –≤–µ—Ä–Ω—É–ª—Å—è –¥–æ–º–æ–π –∏ –∑–∞–ø–∏—Å–∞–ª –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –≤ –±–ª–æ–∫–Ω–æ—Ç. –° —Ç–µ—Ö –ø–æ—Ä –æ–Ω —á–∞—Å—Ç–æ –¥–µ–ª–∞–ª –º–∞–ª–µ–Ω—å–∫–∏–µ –Ω–∞—É—á–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç–∏—è.</p>
        </div>
        <button class="btn" style="margin-top:25px; width:100%" onclick="toggleModal(false)">–í–ï–†–ù–£–¢–¨–°–Ø –ö –¢–ï–°–¢–£</button>
    </div>
</div>

<div class="app-container">
    <img src="sg.jpeg" alt="Logo" class="spinning-logo">
    
    <div id="screen-reg" class="screen active">
        <h1 style="text-align: center; font-size: 2.5rem; color: #2d3436;">QuizZone</h1>
        <p style="text-align:center; color:#636e72; margin-bottom:30px;">–û–ª–∏–º–ø–∏–∞–¥–∞ 4 –∫–ª–∞—Å—Å–∞: —Ñ–æ—Ä–º–∞—Ç –ê –ë –í –ì</p>
        <input type="text" id="user-name" style="width:100%; padding:18px; border-radius:12px; border:2px solid #eee; margin-bottom:20px; outline: none; font-size:1.1rem" placeholder="–í–≤–µ–¥–∏ —Å–≤–æ—ë –∏–º—è...">
        <button class="btn" onclick="startApp()">–ù–ê–ß–ê–¢–¨ –ü–£–¢–ï–®–ï–°–¢–í–ò–ï</button>
    </div>

    <div id="screen-subjects" class="screen">
        <h1 style="text-align:center; margin-bottom: 30px;">–í—ã–±–µ—Ä–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h1>
        <div class="subject-grid">
            <div class="subject-card" onclick="initQuiz('world')"><h3>üåç –ú–∏—Ä</h3><p>20 –≤–æ–ø—Ä–æ—Å–æ–≤</p></div>
            <div class="subject-card" onclick="initQuiz('math')"><h3>üìê –ú–∞—Ç</h3><p>20 –≤–æ–ø—Ä–æ—Å–æ–≤</p></div>
            <div class="subject-card" onclick="initQuiz('russian')"><h3>‚úçÔ∏è –†—É—Å</h3><p>20 –≤–æ–ø—Ä–æ—Å–æ–≤</p></div>
        </div>
    </div>

    <div id="screen-quiz" class="screen">
        <div class="progress-bar"><div id="progress" class="p-fill"></div></div>
        <button id="btn-open-text" class="btn btn-hint" onclick="toggleModal(true)" style="display:none">üìñ –û–¢–ö–†–´–¢–¨ –¢–ï–ö–°–¢ ¬´–ú–ê–õ–¨–ß–ò–ö –ò –ó–ê–Ø–¶¬ª</button>
        <div id="q-text" style="font-size:1.3rem; font-weight:700; color:#2d3436; margin-bottom:20px;"></div>
        <div id="q-options"></div>
        <button class="btn" style="margin-top:auto" onclick="handleAnswer()">–ü–û–î–¢–í–ï–†–î–ò–¢–¨ –û–¢–í–ï–¢</button>
    </div>

    <div id="screen-results" class="screen">
        <h1 style="text-align:center; margin-top:20px">–¢–í–û–Ø –û–¶–ï–ù–ö–ê</h1>
        <div id="grade-badge"></div>
        <div id="score-text" style="text-align:center; font-size:1.4rem; font-weight:700; color:#2d3436"></div>
        <button class="btn" style="margin-top:40px" onclick="location.reload()">–í–ï–†–ù–£–¢–¨–°–Ø –í –ù–ê–ß–ê–õ–û</button>
    </div>
</div>

<script>
    let user = "", cur = 0, score = 0, sel = null, sub = "";
    const letters = ['–ê', '–ë', '–í', '–ì'];

    const qBank = {
        world: [
            {q:"–ß—Ç–æ —Ç–∞–∫–æ–µ '–Ω–µ—Ç–∏–∫–µ—Ç'?", o:["–ü—Ä–∞–≤–∏–ª–∞ —Ä—ã–±–∞–ª–∫–∏", "–≠—Ç–∏–∫–µ—Ç –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ", "–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º", "–í–∏–¥ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞"], a:1},
            {q:"–ö—Ç–æ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–≤—ã–º –∑–¥–æ—Ä–æ–≤–∞—Ç—å—Å—è –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∫–ª–∞—Å—Å?", o:["–¢–æ—Ç, –∫—Ç–æ —Å–∏–¥–∏—Ç", "–¢–æ—Ç, –∫—Ç–æ –≤—Ö–æ–¥–∏—Ç", "–ù–∏–∫—Ç–æ", "–°–∞–º—ã–π —Å—Ç–∞—Ä—à–∏–π"], a:1},
            {q:"–≠–º–ø–∞—Ç–∏—è ‚Äî —ç—Ç–æ...", o:["–ë—ã—Å—Ç—Ä—ã–π –±–µ–≥", "–£–º–µ–Ω–∏–µ —Å–æ–ø–µ—Ä–µ–∂–∏–≤–∞—Ç—å", "–ü–ª–æ—Ö–∞—è –ø–∞–º—è—Ç—å", "–ì—Ä–æ–º–∫–∏–π –≥–æ–ª–æ—Å"], a:1},
            {q:"–í –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ –Ω—É–∂–Ω–æ...", o:["–ì—Ä–æ–º–∫–æ —Å–ª—É—à–∞—Ç—å –º—É–∑—ã–∫—É", "–£—Å—Ç—É–ø–∞—Ç—å –º–µ—Å—Ç–æ —Å—Ç–∞—Ä—à–∏–º", "–ü—Ä—ã–≥–∞—Ç—å –Ω–∞ —Å–∏–¥–µ–Ω—å—è—Ö", "–ó–∞–∫—Ä—ã–≤–∞—Ç—å –≥–ª–∞–∑–∞"], a:1},
            {q:"–ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –º–∏–º–∏–∫–∞?", o:["–ß—Ç–æ–±—ã –≥—Ä–µ—Ç—å—Å—è", "–î–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è —ç–º–æ—Ü–∏–π", "–ß—Ç–æ–±—ã –ª—É—á—à–µ —Å–ª—ã—à–∞—Ç—å", "–î–ª—è –∫—Ä–∞—Å–æ—Ç—ã –Ω–æ–≥"], a:1},
            {q:"–ö—É–ª—å—Ç—É—Ä–Ω—ã–π —á–µ–ª–æ–≤–µ–∫ ‚Äî —ç—Ç–æ —Ç–æ—Ç, –∫—Ç–æ...", o:["–í—Å–µ–≥–¥–∞ —Å–ø–æ—Ä–∏—Ç", "–°–æ–±–ª—é–¥–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è", "–ù–∏ —Å –∫–µ–º –Ω–µ –≥–æ–≤–æ—Ä–∏—Ç", "–ú–Ω–æ–≥–æ –µ—Å—Ç"], a:1},
            {q:"–ö–∞–∫ –≤–µ—Å—Ç–∏ —Å–µ–±—è –≤ —à–∫–æ–ª—å–Ω–æ–π —Å—Ç–æ–ª–æ–≤–æ–π?", o:["–ë–µ–≥–∞—Ç—å –º–µ–∂–¥—É —Å—Ç–æ–ª–∞–º–∏", "–£–±—Ä–∞—Ç—å –∑–∞ —Å–æ–±–æ–π –ø–æ—Å—É–¥—É", "–ö–∏–¥–∞—Ç—å—Å—è —Ö–ª–µ–±–æ–º", "–ö—Ä–∏—á–∞—Ç—å –ø–æ–≤–∞—Ä—É"], a:1},
            {q:"–ï—Å–ª–∏ –≤—ã —Å–ª—É—á–∞–π–Ω–æ –∫–æ–≥–æ-—Ç–æ —Ç–æ–ª–∫–Ω—É–ª–∏, –Ω—É–∂–Ω–æ:", o:["–£–±–µ–∂–∞—Ç—å", "–ò–∑–≤–∏–Ω–∏—Ç—å—Å—è", "–¢–æ–ª–∫–Ω—É—Ç—å –≤ –æ—Ç–≤–µ—Ç", "–ó–∞—Å–º–µ—è—Ç—å—Å—è"], a:1},
            {q:"–ú–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–±–∏–≤–∞—Ç—å —Å—Ç–∞—Ä—à–∏—Ö?", o:["–î–∞, –≤—Å–µ–≥–¥–∞", "–ù–µ—Ç, —ç—Ç–æ –Ω–µ–∫—É–ª—å—Ç—É—Ä–Ω–æ", "–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ—á–µ–Ω—å —Ö–æ—á–µ—Ç—Å—è", "–ï—Å–ª–∏ —Å–∫—É—á–Ω–æ"], a:1},
            {q:"–ß—Ç–æ —Ç–∞–∫–æ–µ –∂–µ—Å—Ç—ã?", o:["–î–≤–∏–∂–µ–Ω–∏—è –≥–ª–∞–∑", "–î–≤–∏–∂–µ–Ω–∏—è —Ä—É–∫ –∏ —Ç–µ–ª–∞", "–ó–≤—É–∫–∏ –≥–æ–ª–æ—Å–∞", "–¶–≤–µ—Ç –æ–¥–µ–∂–¥—ã"], a:1},
            {q:"–ó–∞—á–µ–º –Ω—É–∂–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç—å '–°–ø–∞—Å–∏–±–æ'?", o:["–¢–∞–∫ –≤–µ–ª—è—Ç –∑–∞–∫–æ–Ω—ã", "–î–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏", "–ß—Ç–æ–±—ã –¥–∞–ª–∏ –µ—â–µ", "–ü—Ä–æ—Å—Ç–æ —Ç–∞–∫"], a:1},
            {q:"–ü–µ—Ä–≤—ã–º –∏–∑ –ª–∏—Ñ—Ç–∞ –¥–æ–ª–∂–µ–Ω –≤—ã—Ö–æ–¥–∏—Ç—å:", o:["–¢–æ—Ç, –∫—Ç–æ –±–ª–∏–∂–µ –∫ –¥–≤–µ—Ä–∏", "–°–∞–º—ã–π —Å–∏–ª—å–Ω—ã–π", "–°–∞–º—ã–π –º–∞–ª–µ–Ω—å–∫–∏–π", "–¢–æ—Ç, –∫—Ç–æ –∑–∞—à–µ–ª –ø–µ—Ä–≤—ã–º"], a:0},
            {q:"–ö–∞–∫ —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å —Å —É—á–∏—Ç–µ–ª–µ–º?", o:["–ù–∞ '—Ç—ã' –∏ –≥—Ä–æ–º–∫–æ", "–ù–∞ '–í—ã' –∏ –≤–µ–∂–ª–∏–≤–æ", "–®–µ–ø–æ—Ç–æ–º –∏ –Ω–µ –≥–ª—è–¥—è", "–î–µ—Ä–∑–∫–æ"], a:1},
            {q:"–ì–¥–µ –Ω–µ–ª—å–∑—è —à—É–º–µ—Ç—å?", o:["–ù–∞ —Å—Ç–∞–¥–∏–æ–Ω–µ", "–í –±–∏–±–ª–∏–æ—Ç–µ–∫–µ", "–í –ª–µ—Å—É (–¥–Ω–µ–º)", "–í —Å–≤–æ–µ–π –∫–æ–º–Ω–∞—Ç–µ"], a:1},
            {q:"–ö–∞–∫ –≤–µ—Å—Ç–∏ —Å–µ–±—è –≤ –≥–æ—Å—Ç—è—Ö?", o:["–û—Ç–∫—Ä—ã—Ç—å –≤—Å–µ —à–∫–∞—Ñ—ã", "–ë—ã—Ç—å –≤–µ–∂–ª–∏–≤—ã–º –∏ –≥–æ—Å—Ç–µ–ø—Ä–∏–∏–º–Ω—ã–º", "–¢—Ä–µ–±–æ–≤–∞—Ç—å –µ–¥—É", "–õ–µ—á—å –Ω–∞ –∫–æ–≤–µ—Ä"], a:1},
            {q:"–ü—Ä–∞–≤–∏–ª–∞ –æ–±—â–µ–Ω–∏—è –ø–æ–º–æ–≥–∞—é—Ç –Ω–∞–º...", o:["–†—É–≥–∞—Ç—å—Å—è", "–ü–æ–Ω–∏–º–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞", "–ó–∞–±—ã–≤–∞—Ç—å —Å–ª–æ–≤–∞", "–ë–æ–ª—å—à–µ —Å–ø–∞—Ç—å"], a:1},
            {q:"–¢–∞–∫—Ç–∏—á–Ω—ã–π —á–µ–ª–æ–≤–µ–∫ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—É–¥–µ—Ç:", o:["–ü–æ–º–æ–≥–∞—Ç—å", "–ó–∞–¥–∞–≤–∞—Ç—å –æ–±–∏–¥–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã", "–ó–¥–æ—Ä–æ–≤–∞—Ç—å—Å—è", "–£–ª—ã–±–∞—Ç—å—Å—è"], a:1},
            {q:"–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è?", o:["–°–∫–∞–∑–∞—Ç—å '–≠–π —Ç—ã!'", "–ù–∞–∑–≤–∞—Ç—å —Å–≤–æ–µ –∏–º—è –∏ —É–ª—ã–±–Ω—É—Ç—å—Å—è", "–ü–æ–≤–µ—Ä–Ω—É—Ç—å—Å—è —Å–ø–∏–Ω–æ–π", "–ü—Ä–æ–º–æ–ª—á–∞—Ç—å"], a:1},
            {q:"–í —Ç–µ–∞—Ç—Ä–µ –Ω–µ–ª—å–∑—è:", o:["–°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Å—Ü–µ–Ω—É", "–ü–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º", "–•–ª–æ–ø–∞—Ç—å", "–°–∏–¥–µ—Ç—å —Ä–æ–≤–Ω–æ"], a:1},
            {q:"–ö—É–ª—å—Ç—É—Ä–∞ –æ–±—â–µ–Ω–∏—è ‚Äî —ç—Ç–æ —á–∞—Å—Ç—å...", o:["–°–ø–æ—Ä—Ç–∏–≤–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏", "–û–±—â–µ–π –∫—É–ª—å—Ç—É—Ä—ã —á–µ–ª–æ–≤–µ–∫–∞", "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∏", "–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö –∏–≥—Ä"], a:1}
        ],
        math: [
            {q:"3/4 –æ—Ç 120 ‚Äî —ç—Ç–æ:", o:["30", "60", "90", "100"], a:2},
            {q:"–ü–µ—Ä–∏–º–µ—Ç—Ä –∫–≤–∞–¥—Ä–∞—Ç–∞ —Å–æ —Å—Ç–æ—Ä–æ–Ω–æ–π 15 —Å–º?", o:["30", "45", "60", "225"], a:2},
            {q:"–°–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –≤ 1/4 —á–∞—Å–∞?", o:["10", "15", "20", "25"], a:1},
            {q:"–ü–ª–æ—â–∞–¥—å –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ 7 —Å–º –Ω–∞ 9 —Å–º?", o:["16", "32", "63", "81"], a:2},
            {q:"–ù–∞–π–¥–∏ X: X - 150 = 450", o:["300", "600", "500", "550"], a:1},
            {q:"1/10 –æ—Ç 5000?", o:["5", "50", "500", "5000"], a:2},
            {q:"–†–µ–∑—É–ª—å—Ç–∞—Ç: 125 * 4?", o:["400", "450", "500", "550"], a:2},
            {q:"10% –æ—Ç —á–∏—Å–ª–∞ 800?", o:["8", "80", "800", "40"], a:1},
            {q:"–°–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –≤ 3 –º–∏–Ω—É—Ç–∞—Ö?", o:["120", "150", "180", "200"], a:2},
            {q:"–ü–æ–ª–æ–≤–∏–Ω–∞ –æ—Ç 1/2 —á–∏—Å–ª–∞ 400?", o:["200", "100", "50", "400"], a:1},
            {q:"–ß–∏—Å–ª–æ, –≤ –∫–æ—Ç–æ—Ä–æ–º 5 —Å–æ—Ç–µ–Ω –∏ 3 –µ–¥–∏–Ω–∏—Ü—ã:", o:["53", "530", "503", "305"], a:2},
            {q:"–†–∞–∑–Ω–æ—Å—Ç—å —á–∏—Å–µ–ª 1000 –∏ 345:", o:["755", "655", "665", "645"], a:1},
            {q:"2/5 –æ—Ç —á–∏—Å–ª–∞ 100?", o:["20", "40", "60", "80"], a:1},
            {q:"–í–æ —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ 600 –±–æ–ª—å—à–µ 200?", o:["–≤ 2 —Ä–∞–∑–∞", "–≤ 3 —Ä–∞–∑–∞", "–≤ 4 —Ä–∞–∑–∞", "–≤ 10 —Ä–∞–∑"], a:1},
            {q:"–°—É–º–º–∞ —É–≥–ª–æ–≤ –≤ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–µ?", o:["90¬∞", "180¬∞", "360¬∞", "100¬∞"], a:1},
            // –õ–æ–≥–∏–∫–∞
            {q:"(–õ–û–ì–ò–ö–ê) –ù–∞ –±–µ—Ä–µ–∑–µ —Ä–æ—Å–ª–æ 40 —è–±–ª–æ–∫. 10 —É–ø–∞–ª–æ. –°–∫–æ–ª—å–∫–æ –æ—Å—Ç–∞–ª–æ—Å—å?", o:["30", "50", "0 (–Ω–∞ –±–µ—Ä–µ–∑–µ –Ω–µ —Ä–∞—Å—Ç—É—Ç —è–±–ª–æ–∫–∏)", "40"], a:2},
            {q:"(–õ–û–ì–ò–ö–ê) –£ –º–∞–º—ã 4 —Å—ã–Ω–∞, —É –∫–∞–∂–¥–æ–≥–æ —Å—ã–Ω–∞ –ø–æ —Å–µ—Å—Ç—Ä–µ. –°–∫–æ–ª—å–∫–æ –¥–µ—Ç–µ–π?", o:["4", "8", "5", "6"], a:2},
            {q:"(–õ–û–ì–ò–ö–ê) –ß—Ç–æ —Ç—è–∂–µ–ª–µ–µ: 1 –∫–≥ –∂–µ–ª–µ–∑–∞ –∏–ª–∏ 1 –∫–≥ –≤–∞—Ç—ã?", o:["–ñ–µ–ª–µ–∑–æ", "–í–∞—Ç–∞", "–û–¥–∏–Ω–∞–∫–æ–≤–æ", "–ñ–µ–ª–µ–∑–æ, –µ—Å–ª–∏ –æ–Ω–æ –º–æ–∫—Ä–æ–µ"], a:2},
            {q:"(–õ–û–ì–ò–ö–ê) –°–∫–æ–ª—å–∫–æ –º–µ—Å—è—Ü–µ–≤ –≤ –≥–æ–¥—É –∏–º–µ—é—Ç 28 –¥–Ω–µ–π?", o:["–¢–æ–ª—å–∫–æ —Ñ–µ–≤—Ä–∞–ª—å", "6 –º–µ—Å—è—Ü–µ–≤", "–í—Å–µ 12 –º–µ—Å—è—Ü–µ–≤", "–û–¥–∏–Ω"], a:2},
            {q:"(–õ–û–ì–ò–ö–ê) –ì–æ—Ä–µ–ª–æ 5 —Å–≤–µ—á–µ–π. 2 –ø–æ–≥–∞—Å–ª–∏. –°–∫–æ–ª—å–∫–æ —Å–≤–µ—á–µ–π –æ—Å—Ç–∞–ª–æ—Å—å?", o:["3", "5", "2 (–æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–≥–æ—Ä–µ–ª–∏)", "0"], a:2}
        ],
        russian: [
            // –ü–æ —Ç–µ–∫—Å—Ç—É (1-10)
            {q:"(–¢–ï–ö–°–¢) –ö–∞–∫–∞—è —Ü–µ–ª—å –±—ã–ª–∞ —É –ê—Ä—Ç—ë–º–∞, –∫–æ–≥–¥–∞ –æ–Ω –ø–æ—à—ë–ª –≤ –ª–µ—Å?", o:["–û—Ö–æ—Ç–∏—Ç—å—Å—è", "–ù–∞–±–ª—é–¥–∞—Ç—å –∑–∞ –ø—Ä–∏—Ä–æ–¥–æ–π", "–°–æ–±–∏—Ä–∞—Ç—å –≥—Ä–∏–±—ã", "–ü–æ—Ç–µ—Ä—è—Ç—å—Å—è"], a:1},
            {q:"(–¢–ï–ö–°–¢) –ó–∞—á–µ–º –∑–∞–π—Ü—É –¥–ª–∏–Ω–Ω—ã–µ —É—à–∏?", o:["–î–ª—è –∫—Ä–∞—Å–æ—Ç—ã", "–ß—Ç–æ–±—ã —Å–ª—ã—à–∞—Ç—å –≤—Å—ë –≤–æ–∫—Ä—É–≥", "–ß—Ç–æ–±—ã –ª—É—á—à–µ –ø—Ä—ã–≥–∞—Ç—å", "–ß—Ç–æ–±—ã –≥—Ä–µ—Ç—å—Å—è"], a:1},
            {q:"(–¢–ï–ö–°–¢) –î–ª—è —á–µ–≥–æ –∑–∞–π—Ü—É –Ω—É–∂–Ω—ã —Å–∏–ª—å–Ω—ã–µ –ª–∞–ø—ã?", o:["–ß—Ç–æ–±—ã —Ä—ã—Ç—å –Ω–æ—Ä—ã", "–ß—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ —É–±–µ–≥–∞—Ç—å", "–ß—Ç–æ–±—ã –¥—Ä–∞—Ç—å—Å—è", "–ß—Ç–æ–±—ã –ª–∞–∑–∞—Ç—å –ø–æ –¥–µ—Ä–µ–≤—å—è–º"], a:1},
            {q:"(–¢–ï–ö–°–¢) –ß—Ç–æ –ê—Ä—Ç—ë–º –¥–µ–ª–∞–ª –¥–æ–º–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–≥—É–ª–∫–∏?", o:["–†–∏—Å–æ–≤–∞–ª –∑–∞–π—Ü–∞", "–ó–∞–ø–∏—Å—ã–≤–∞–ª –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –≤ –±–ª–æ–∫–Ω–æ—Ç", "–ò–≥—Ä–∞–ª –≤ –º—è—á", "–°—Ä–∞–∑—É –ª–µ–≥ —Å–ø–∞—Ç—å"], a:1},
            {q:"(–¢–ï–ö–°–¢) –ö–∞–∫ –ê—Ä—Ç—ë–º —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞–ª —Å –∑–∞–π—Ü–µ–º?", o:["–ì—Ä–æ–º–∫–æ –∫—Ä–∏—á–∞–ª", "–¢–∏—Ö–æ, —á—Ç–æ–±—ã –Ω–µ –Ω–∞–ø—É–≥–∞—Ç—å", "–ü–µ–ª –ø–µ—Å–Ω–∏", "–®–µ–ø–æ—Ç–æ–º –Ω–∞ —É—Ö–æ"], a:1},
            {q:"(–¢–ï–ö–°–¢) –ö–∞–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ —Å–¥–µ–ª–∞–ª –ê—Ä—Ç—ë–º?", o:["–ó–∞–π—Ü—ã –µ–¥—è—Ç –º–æ—Ä–∫–æ–≤–∫—É", "–ü—Ä–∏—Ä–æ–¥–∞ —Å–¥–µ–ª–∞–ª–∞ –∑–∞–π—Ü–∞ –∏–¥–µ–∞–ª—å–Ω—ã–º –¥–ª—è –ª–µ—Å–∞", "–ó–∞–π—Ü—ã —É–º–µ—é—Ç –≥–æ–≤–æ—Ä–∏—Ç—å", "–í –ª–µ—Å—É —Å—Ç—Ä–∞—à–Ω–æ"], a:1},
            {q:"(–¢–ï–ö–°–¢) –ì–¥–µ –ø—Ä—è—Ç–∞–ª—Å—è –∑–∞—è—Ü?", o:["–í —è–º–µ", "–í –¥—É–ø–ª–µ", "–ü–æ–¥ –∫—É—Å—Ç–æ–º", "–ù–∞ –¥–µ—Ä–µ–≤–µ"], a:2},
            {q:"(–¢–ï–ö–°–¢) –ß—Ç–æ –∑–∞—è—Ü –¥–µ–ª–∞–ª –ø—Ä–∏ —à–æ—Ä–æ—Ö–µ?", o:["–ó–∞—Å—ã–ø–∞–ª", "–ú–µ–Ω—è–ª –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä—ã–∂–∫–∞", "–ù–∞—á–∏–Ω–∞–ª —Å–≤–∏—Å—Ç–µ—Ç—å", "–ó–≤–∞–ª –Ω–∞ –ø–æ–º–æ—â—å"], a:1},
            {q:"(–¢–ï–ö–°–¢) –ß–µ–º –ê—Ä—Ç—ë–º –∑–∞–Ω–∏–º–∞–ª—Å—è –≤ –ª–µ—Å—É –≤ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Ä–∞–∑—ã?", o:["–ü—Ä–æ—Å—Ç–æ –≥—É–ª—è–ª", "–î–µ–ª–∞–ª –º–∞–ª–µ–Ω—å–∫–∏–µ –Ω–∞—É—á–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç–∏—è", "–õ–æ–≤–∏–ª –∑–≤–µ—Ä–µ–π", "–°—Ç—Ä–æ–∏–ª —à–∞–ª–∞—à"], a:1},
            {q:"(–¢–ï–ö–°–¢) –ö–∞–∫–æ–µ —Å–ª–æ–≤–æ –ª—É—á—à–µ –≤—Å–µ–≥–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ê—Ä—Ç—ë–º–∞?", o:["–õ–µ–Ω–∏–≤—ã–π", "–õ—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–π", "–®—É–º–Ω—ã–π", "–ñ–∞–¥–Ω—ã–π"], a:1},
            // –ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ (11-20)
            {q:"–£–∫–∞–∂–∏ —Å–ª–æ–≤–æ, –≤ –∫–æ—Ç–æ—Ä–æ–º –¥–æ–ø—É—â–µ–Ω–∞ –æ—à–∏–±–∫–∞:", o:["–ú–æ—Ä—è–∫", "–¢—Ä–æ–≤–∞", "–°–∞–¥—ã", "–õ–µ—Å–Ω–æ–π"], a:1},
            {q:"–í –∫–∞–∫–æ–º –ø–∞–¥–µ–∂–µ —Å–ª–æ–≤–æ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ö–æ–≥–æ? –ß–µ–≥–æ?", o:["–ò–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π", "–î–∞—Ç–µ–ª—å–Ω—ã–π", "–†–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π", "–ü—Ä–µ–¥–ª–æ–∂–Ω—ã–π"], a:2},
            {q:"–ù–∞–π–¥–∏ –≥–ª–∞–≥–æ–ª-–∏—Å–∫–ª—é—á–µ–Ω–∏–µ:", o:["–ò–≥—Ä–∞—Ç—å", "–°–º–æ—Ç—Ä–µ—Ç—å", "–î—É–º–∞—Ç—å", "–ß–∏—Ç–∞—Ç—å"], a:1},
            {q:"–í –∫–∞–∫–æ–º —Å–ª–æ–≤–µ –µ—Å—Ç—å –ø—Ä–∏—Å—Ç–∞–≤–∫–∞?", o:["–ü–æ—Ö–æ–¥", "–î–æ–º–∞—à–Ω–∏–π", "–°—Ç–æ–ª", "–õ–µ—Ç–æ"], a:0},
            {q:"–ß–∞—Å—Ç—å —Ä–µ—á–∏ —Å–ª–æ–≤–∞ '–ö—Ä–∞—Å–∏–≤–æ':", o:["–°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ", "–ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ", "–ù–∞—Ä–µ—á–∏–µ", "–ì–ª–∞–≥–æ–ª"], a:2},
            {q:"–ê–Ω—Ç–æ–Ω–∏–º –∫ —Å–ª–æ–≤—É '–ü—Ä–∞–≤–¥–∞':", o:["–ò—Å—Ç–∏–Ω–∞", "–õ–æ–∂—å", "–†–∞—Å—Å–∫–∞–∑", "–®—É—Ç–∫–∞"], a:1},
            {q:"–¨ –ø–æ—Å–ª–µ —à–∏–ø—è—â–∏—Ö –ü–ò–®–ï–¢–°–Ø –≤ —Å–ª–æ–≤–µ:", o:["–í—Ä–∞—á..", "–ú—ã—à..", "–ì–∞—Ä–∞–∂..", "–ú—è—á.."], a:1},
            {q:"–ì–ª–∞–≤–Ω—ã–µ —á–ª–µ–Ω—ã –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è ‚Äî —ç—Ç–æ:", o:["–ö–æ—Ä–µ–Ω—å –∏ —Å—É—Ñ—Ñ–∏–∫—Å", "–ü–æ–¥–ª–µ–∂–∞—â–µ–µ –∏ —Å–∫–∞–∑—É–µ–º–æ–µ", "–ü—Ä–µ–¥–ª–æ–≥ –∏ —Å–æ—é–∑", "–í—Å–µ —Å–ª–æ–≤–∞"], a:1},
            {q:"–£–∫–∞–∂–∏ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ 3-–≥–æ —Å–∫–ª–æ–Ω–µ–Ω–∏—è:", o:["–ú–∞–º–∞", "–ö–æ–Ω—å", "–†–æ–∂—å", "–û–∫–Ω–æ"], a:2},
            {q:"–í –∫–∞–∫–æ–º —Å–ª–æ–≤–µ –∑–≤—É–∫–æ–≤ –ë–û–õ–¨–®–ï, —á–µ–º –±—É–∫–≤?", o:["–Ø–∫–æ—Ä—å", "–Æ–ª–∞", "–ö–æ–Ω—å", "–¢–µ–Ω—å"], a:1}
        ]
    };

    function startApp() {
        user = document.getElementById('user-name').value.trim();
        if(!user) return alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏ —Å–≤–æ—ë –∏–º—è –¥–ª—è —É—á–∞—Å—Ç–∏—è!");
        showScreen('screen-subjects');
    }

    function initQuiz(subjectKey) {
        sub = subjectKey;
        cur = 0;
        score = 0;
        showScreen('screen-quiz');
        document.getElementById('btn-open-text').style.display = (sub === 'russian') ? 'block' : 'none';
        renderQuestion();
    }

    function renderQuestion() {
        const data = qBank[sub][cur];
        document.getElementById('progress').style.width = (cur / 20) * 100 + "%";
        document.getElementById('q-text').innerText = (cur + 1) + ". " + data.q;
        
        const optionsDiv = document.getElementById('q-options');
        optionsDiv.innerHTML = "";
        sel = null;

        data.o.forEach((text, index) => {
            const div = document.createElement('div');
            div.className = 'option';
            div.innerHTML = `<span class="opt-prefix">${letters[index]}</span> ${text}`;
            div.onclick = () => {
                document.querySelectorAll('.option').forEach(el => el.classList.remove('selected'));
                div.classList.add('selected');
                sel = index;
            };
            optionsDiv.appendChild(div);
        });
    }

    function handleAnswer() {
        if(sel === null) return alert("–í—ã–±–µ—Ä–∏ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤!");
        if(sel === qBank[sub][cur].a) score++;
        cur++;
        if(cur < 20) renderQuestion(); else finishQuiz();
    }

    function finishQuiz() {
        showScreen('screen-results');
        const percent = (score / 20) * 100;
        let grade = 2, color = "var(--g1)";
        if(percent >= 90) { grade = 5; color = "var(--g5)"; }
        else if(percent >= 75) { grade = 4; color = "var(--g4)"; }
        else if(percent >= 50) { grade = 3; color = "var(--g3)"; }
        
        const badge = document.getElementById('grade-badge');
        badge.innerText = grade;
        badge.style.background = color;
        badge.style.boxShadow = `0 10px 30px ${color}66`;
        
        document.getElementById('score-text').innerHTML = `${user}, —Ç–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: <span style="color:${color}">${score} –∏–∑ 20</span>`;
    }

    function showScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    function toggleModal(show) {
        document.getElementById('modal').style.display = show ? 'flex' : 'none';
    }
</script>
</body>
</html>